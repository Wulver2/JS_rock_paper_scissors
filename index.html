<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, paper, scissors</title>
</head>
<body>
    
    <button onclick="playGame('rock')">Rock</button>
    <button onclick="playGame('paper')">Paper</button>
    <button onclick="playGame('scissors')">Scissors</button>
    <div class="scores"></div>
    <div class="results"></div>

    <script>
        function getComputerChoice() {
            const random_num = Math.random() * 3;

            if (random_num >= 0 && random_num < 1) {
                return "rock";
            }
            else if (random_num >= 1 && random_num < 2) {
                return "paper";
            } 
            return "scissors";
        }

        //assumes user enters a valid choice
        function getHumanChoice() {
            return prompt("Choose Rock, Paper, or Scissors").toLowerCase();
        }

   
        let humanScore = 0;
        let computerScore = 0;
        let rounds = 0;
        let scores = document.querySelector(".scores");
        let results = document.querySelector(".results");
        scores.textContent = `Your Score ${humanScore} Opponent's Score: ${computerScore}`;

        function playGame(humanSelects) {
            //plays a round of rock paper scissors and increments scores
            //could make this function shorter if made into smaller functions
            
            function playRound(humanChoice, computerChoice) {
                if (humanChoice == "rock") {
                    if (computerChoice == "rock") {
                        results.textContent = "It's a tie!";
                    }
                    else if (computerChoice == "paper") {
                        results.textContent = "You lose! " + computerChoice + " beats " + humanChoice;
                        computerScore++;
                    }

                    else {
                        results.textContent = "You win!! " + humanChoice + " beats " + computerChoice;
                        humanScore++;
                    }

                }
                else if (humanChoice == "paper") {
                    if (computerChoice == "rock") {
                        results.textContent = "You win!! " + humanChoice + " beats " + computerChoice;
                        humanScore++;
                    }
                    else if (computerChoice == "paper") {
                        results.textContent = "It's a tie!";
                    }

                    else {
                        results.textContent = "You lose! " + computerChoice + " beats " + humanChoice;
                        computerScore++;
                    }
                }

                else {
                    if (computerChoice == "rock") {
                        results.textContent = "You lose! " + computerChoice + " beats " + humanChoice;
                        computerScore++;
                    }
                    else if (computerChoice == "paper") {
                        results.textContent = "You win!! " + humanChoice + " beats " + computerChoice;
                        humanScore++;
                    }

                    else {
                        results.textContent = "It's a tie!";
                    }
                }
            }
            
            const c_selects = getComputerChoice();
            playRound(humanSelects, c_selects);
            scores.textContent = `Your Score ${humanScore} Opponent's Score: ${computerScore}`;
            rounds++;
            if (rounds == 5) {
                if(humanScore > computerScore) {
                    results.textContent = "You Win The Game!!";
                }
                else {
                    results.textContent = "You lose :(";
                }
            }
        }

        
    </script>
</body>
</html>